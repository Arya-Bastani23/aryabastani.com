{"componentChunkName":"component---src-templates-blog-post-js","path":"/projects/image-mosaic/","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"templateKey\": \"project\",\n  \"published\": true,\n  \"title\": \"Image Mosaic\",\n  \"slug\": \"image-mosaic\",\n  \"date\": \"2021-04-08T00:00:00.000Z\",\n  \"featureImage\": \"images/cifar_night_coarse.jpg\",\n  \"pinned\": false,\n  \"tags\": [\"Computer Vision\", \"MultiProcessing\"],\n  \"excerpt\": \"A quick overview of one of my weekend projects where I develop image mosaics from sets of images.\"\n};\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\nvar PostVideo = makeShortcode(\"PostVideo\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"introduction\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Introduction\", mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#introduction\",\n    \"aria-label\": \"introduction permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"We've all seen images where when you zoom in you realize that it's made up of many smaller images and harkens to some greater theme. While cool, I found the problem of actually creating this mosaic quite interesting so this weekend project is me doing so. The dream was to replicate starry night made of galaxies but we'll see it didn't quite work out that way!\"), mdx(PostVideo, {\n    video: mosaic_anim,\n    _autoplay: true,\n    mdxType: \"PostVideo\"\n  }), mdx(\"h1\", {\n    \"id\": \"code\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Code\", mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#code\",\n    \"aria-label\": \"code permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"I'll go through my steps for solving this problem by creating a mosaic of UCSD's beloved CSE bear! For those that don't know, right outside CSE at UCSD, there is a large stone bear art piece!\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/657cd/bear.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEFAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABW0tRROUT/8QAGhABAAMAAwAAAAAAAAAAAAAAAQACEQMSIv/aAAgBAQABBQI5PJaiPSWvsNUJ/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AbGP/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQACEv/aAAgBAgEBPwE23Tf/xAAbEAABBAMAAAAAAAAAAAAAAAAQAAECESEiMv/aAAgBAQAGPwLlZk1jU//EABoQAQADAQEBAAAAAAAAAAAAAAEAETFBIZH/2gAIAQEAAT8h3HoqCWw4RJz6zM2u3KLrKTZ//9oADAMBAAIAAwAAABBA/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8Qiy//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QirZ//8QAHBABAQADAQADAAAAAAAAAAAAAREAIUExcZGh/9oACAEBAAE/EANS9FonZ3zAMaOy/WVUPBh+ZoIpq7+MKhoPfMWS7bp1n//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"CSE Bear\",\n    \"title\": \"CSE Bear\",\n    \"src\": \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/6c738/bear.jpg\",\n    \"srcSet\": [\"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/73b64/bear.jpg 300w\", \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/3ad8d/bear.jpg 600w\", \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/6c738/bear.jpg 1200w\", \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/8b34c/bear.jpg 1800w\", \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/111a0/bear.jpg 2400w\", \"/static/90b7bb5e2cfbb545f10a357b5fcb8e73/657cd/bear.jpg 4032w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"CSE Bear\"), \"\\n  \")), mdx(\"h2\", {\n    \"id\": \"importing-base-image\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Importing Base Image\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#importing-base-image\",\n    \"aria-label\": \"importing base image permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"The first step is just importing your target image, this is easily done using OpenCV.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"# Importing Image\\nimg_base = cv2.imread(\\\"./images/bear.jpg\\\")\\nimg_base = cv2.cvtColor(img_base, cv2.COLOR_BGR2RGB)\\n\")), mdx(\"h2\", {\n    \"id\": \"tiling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Tiling\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#tiling\",\n    \"aria-label\": \"tiling permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"The next step is to tile the base image into all the spots where new images will replace the original pixels. I opted to specify square tiles of a given number of pixels on each side and then cropped the image to the largest region occupied by the specified tile size.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"a,b,c = img_base.shape\\ntile_size = 16\\n\\ntile_x = np.floor(b/tile_size)\\ntile_y = np.floor(a/tile_size)\\n\\nimg_x = tile_x * tile_size\\nimg_y = tile_y * tile_size\\n\\n# Get Image to even size\\neven_x = int(np.floor(b/2)*2)\\neven_y = int(np.floor(a/2)*2)\\nimg_crop = img_base[:even_y, :even_x]\\n\\n# Center Crop\\na,b,c = img_crop.shape\\nC1 = int((a-img_y) / 2)\\nC2 = int((b-img_x) / 2)\\n\\nimg_crop = img_crop[C1:a-C1, C2:b-C2, :]\\n\")), mdx(\"p\", null, \"This looks extremely similar to the original image as the number of pixels removed is quite small in the scale of the image. In the case of this image and the prior sizes we have $\", \"[252 \\\\times 189]\", \"$ tiles!\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4691d054b66f9696de98e1154b543654/2da8d/tile_image.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.66666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAUBNMZC9Vf/EABgQAQADAQAAAAAAAAAAAAAAAAIBAwQA/9oACAEBAAEFAtqQpr0WzZ1ghmMBK7//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAEAAgIDAAAAAAAAAAAAAAABAhEAEBIhMf/aAAgBAQAGPwK4NN5EZvuqcHm9a//EABkQAAIDAQAAAAAAAAAAAAAAAAERABAhMf/aAAgBAQABPyFtqGiJAyAoj5GCDsfK/9oADAMBAAIAAwAAABBLz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAwEBAAAAAAAAAAAAAAERIQAQMVFh/9oACAEBAAE/EBYMT1i8XDTElinzXgGcnHM0YpuGdf/Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Example Top Left Tile\",\n    \"title\": \"Example Top Left Tile\",\n    \"src\": \"/static/4691d054b66f9696de98e1154b543654/2da8d/tile_image.jpg\",\n    \"srcSet\": [\"/static/4691d054b66f9696de98e1154b543654/73b64/tile_image.jpg 300w\", \"/static/4691d054b66f9696de98e1154b543654/2da8d/tile_image.jpg 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Example Top Left Tile\"), \"\\n  \")), mdx(\"h2\", {\n    \"id\": \"resizing-image\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Resizing Image\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#resizing-image\",\n    \"aria-label\": \"resizing image permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Now that we have a tile size in the original image we can either make our entire dataset of sample images match the tile size or scale up the original image such that the original tile size maps to the dataset image size. I opted to do the latter to maintain resolution and not have to resize many thousands of images.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"img_data_size = 32 # Size of images in sample set\\nscale = img_data_size / tile_size # Determine scaling factor\\na,b,c = img_crop.shape\\ndim = (int(b*scale), int(a*scale))\\nimg_scale = cv2.resize(img_crop, dim, interpolation = cv2.INTER_AREA) # Scale to new size\\nimg_scale = img_scale.astype(\\\"int16\\\")\\n\")), mdx(\"h2\", {\n    \"id\": \"dataset-import\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Dataset Import\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#dataset-import\",\n    \"aria-label\": \"dataset import permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"I opted to use the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.cs.toronto.edu/~kriz/cifar.html\",\n    \"target\": \"_self\",\n    \"rel\": \"nofollow\"\n  }, \"cifar dataset\"), \" as there is a wide range of colors and textures that I believed will replace the original tiles well! For my convenience I aggregated all the images into one large list.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"import cifar10\\n\\nimages = []\\nfor image, label in cifar10.data_batch_generator():\\n    images.append(image.astype(\\\"int16\\\"))\\n\")), mdx(\"h2\", {\n    \"id\": \"comparison-and-replacing\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Comparison and Replacing\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#comparison-and-replacing\",\n    \"aria-label\": \"comparison and replacing permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"To replace every tile with an appropriate sample image we need a means of comparing the tile to the dataset. Initially I had the idea of using a mean pixel color metric and finding the most similar example in the dataset but I found that even for a small tile the texture across the tile is important to making a realistic looking image. I opted instead to do a pixel-wise comparison of each tile against the entire dataset, which is simply the L2 norm of the difference between the tile and sample image. To aid in speeding this process up, I used the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"multiprocessing\"), \" library in Python.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"# Init. Target Image\\nimg_mos = copy.deepcopy(img_scale)\\n\\nN = 40000 # Number of images to use from sample set\\nstep = img_data_size\\n\\n# Define Pool\\npool = mp.Pool(18)\\n\\n# Defining pool worker\\ndef worker(tar):\\n    diffs = np.zeros((N))\\n    for i in range(N):\\n        comp = images[i] # Get image to compare to tile\\n        diffs[i] = np.linalg.norm(comp-tar) # Comparison metric\\n    return np.argmin(diffs) # Return index of closest image to tar image\\n\\n# Iterate Across Grid\\nfor ty in range(int(tile_y)): # Iterate through all y tiles\\n\\n    clear_output(wait=True) # Made keeping track of progress easier\\n    print(\\\"Ty: {:0.3f} \\\".format((ty+1)/tile_y))\\n\\n    # Aggregate all tiles along a row\\n    tars = []\\n    for tx in range(int(tile_x)): # Iterate through all x tiles\\n        tars.append(img_scale[(ty*step):((ty+1)*step), (tx*step):((tx+1)*step), :])\\n\\n    # Get best indexes for all tiles along row\\n    results = pool.map(worker, tars)\\n\\n    # Replace each tile with the best replacement image\\n    for i,tx in enumerate(range(int(tile_x))):\\n        img_mos[(ty*step):((ty+1)*step), (tx*step):((tx+1)*step),:] = images[results[i]]\\n\")), mdx(\"p\", null, \"While this is quite slow it gets the job done! If you have any ideas to make it faster let me know! The result is quite nice for our bear!\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/e8f33922d19cfbf02f51d5d0d01791a8/f0ccc/cifar_bear.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgME/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABjdXUGRyif//EABoQAQACAwEAAAAAAAAAAAAAAAEAAgMSISL/2gAIAQEAAQUCMnktVHSWvDqE/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABcRAAMBAAAAAAAAAAAAAAAAAAABAhL/2gAIAQIBAT8BVM0f/8QAGRAAAgMBAAAAAAAAAAAAAAAAARAAISIy/9oACAEBAAY/AuZZCy//xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhUTFBYXH/2gAIAQEAAT8hPIyK+QK23oiTuXYT7csW4ocz/9oADAMBAAIAAwAAABCMP//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxBDYv/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCJp//EAB0QAQEAAwACAwAAAAAAAAAAAAERACExQVGRobH/2gAIAQEAAT8QD7jFFHmeecwKi2zfxlFEcFZ9YIpC1D8xyNnk1kA72sz/2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Cifar Bear\",\n    \"title\": \"Cifar Bear\",\n    \"src\": \"/static/e8f33922d19cfbf02f51d5d0d01791a8/6c738/cifar_bear.jpg\",\n    \"srcSet\": [\"/static/e8f33922d19cfbf02f51d5d0d01791a8/73b64/cifar_bear.jpg 300w\", \"/static/e8f33922d19cfbf02f51d5d0d01791a8/3ad8d/cifar_bear.jpg 600w\", \"/static/e8f33922d19cfbf02f51d5d0d01791a8/6c738/cifar_bear.jpg 1200w\", \"/static/e8f33922d19cfbf02f51d5d0d01791a8/8b34c/cifar_bear.jpg 1800w\", \"/static/e8f33922d19cfbf02f51d5d0d01791a8/111a0/cifar_bear.jpg 2400w\", \"/static/e8f33922d19cfbf02f51d5d0d01791a8/f0ccc/cifar_bear.jpg 8064w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Cifar Bear\"), \"\\n  \")), mdx(\"h1\", {\n    \"id\": \"other-examples\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Other Examples\", mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#other-examples\",\n    \"aria-label\": \"other examples permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"h2\", {\n    \"id\": \"galaxy-starry-night\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Galaxy Starry Night\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#galaxy-starry-night\",\n    \"aria-label\": \"galaxy starry night permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"As mentioned before, my original idea was to create a rendition of Starry Night using galaxies. Using one of the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://astronn.readthedocs.io/en/latest/\",\n    \"target\": \"_self\",\n    \"rel\": \"nofollow\"\n  }, \"astroNN datasets\"), \" I attempted to do this.\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1199px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/d6994/base.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"79.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGZpnY0TODf/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARAhATIv/aAAgBAQABBQKvVa6Jn0Yoz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aaj/xAAaEAACAgMAAAAAAAAAAAAAAAAAEAEREiEy/9oACAEBAAY/AqXBlC2f/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIXEx/9oACAEBAAE/IYWjsyEkTSDRomQ8JnENLTfT/9oADAMBAAIAAwAAABCcH//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EEZ//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERUbH/2gAIAQIBAT8QRhen/8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFRQXHB4f/aAAgBAQABPxCpTAZeNK/ZV27bu376g2M10QYTMLxINaqeafs03+VU/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Original Starry Night\",\n    \"title\": \"Original Starry Night\",\n    \"src\": \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/d6994/base.jpg\",\n    \"srcSet\": [\"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/73b64/base.jpg 300w\", \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/3ad8d/base.jpg 600w\", \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/d6994/base.jpg 1199w\"],\n    \"sizes\": \"(max-width: 1199px) 100vw, 1199px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Original Starry Night\"), \"\\n  \")), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/219aee870103f7152fe03476d8595b81/d12e1/galaxy_night.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"79.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAU5wu5sTBv8A/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEREgIQQf/aAAgBAQABBQLurxnclM//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AZWP/8QAGBAAAgMAAAAAAAAAAAAAAAAAABARITL/2gAIAQEABj8CWSVZ/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIUGh/9oACAEBAAE/IZJuzCIUhbqXME3PENi02f/aAAwDAQACAAMAAAAQh/8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxAf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEh8P/aAAgBAgEBPxBI8p//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhQVExYfH/2gAIAQEAAT8QQFyBhzOI5LPdb+SwIqrgQoRFK1FAgF4xgjPKs//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Galaxy Night (not really...)\",\n    \"title\": \"Galaxy Night (not really...)\",\n    \"src\": \"/static/219aee870103f7152fe03476d8595b81/6c738/galaxy_night.jpg\",\n    \"srcSet\": [\"/static/219aee870103f7152fe03476d8595b81/73b64/galaxy_night.jpg 300w\", \"/static/219aee870103f7152fe03476d8595b81/3ad8d/galaxy_night.jpg 600w\", \"/static/219aee870103f7152fe03476d8595b81/6c738/galaxy_night.jpg 1200w\", \"/static/219aee870103f7152fe03476d8595b81/8b34c/galaxy_night.jpg 1800w\", \"/static/219aee870103f7152fe03476d8595b81/111a0/galaxy_night.jpg 2400w\", \"/static/219aee870103f7152fe03476d8595b81/d12e1/galaxy_night.jpg 6831w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Galaxy Night (not really...)\"), \"\\n  \")), mdx(\"p\", null, \"The problem is the diversity of images and the textures from images of galaxies is not enough to have decent replacements for the original tiles. Other people have solved this problem with tinting and other image augmentations to make them work but I did not want to do this.\"), mdx(\"h2\", {\n    \"id\": \"cifar-starry-night\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Cifar Starry Night\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#cifar-starry-night\",\n    \"aria-label\": \"cifar starry night permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"I opted to try the same image but now with cifar and the results were MUCH better. Even with a coarser tile arrangement it still looks quite nice.\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1199px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/d6994/base.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"79.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGZpnY0TODf/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARAhATIv/aAAgBAQABBQKvVa6Jn0Yoz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aaj/xAAaEAACAgMAAAAAAAAAAAAAAAAAEAEREiEy/9oACAEBAAY/AqXBlC2f/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIXEx/9oACAEBAAE/IYWjsyEkTSDRomQ8JnENLTfT/9oADAMBAAIAAwAAABCcH//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EEZ//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERUbH/2gAIAQIBAT8QRhen/8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFRQXHB4f/aAAgBAQABPxCpTAZeNK/ZV27bu376g2M10QYTMLxINaqeafs03+VU/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Original Starry Night\",\n    \"title\": \"Original Starry Night\",\n    \"src\": \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/d6994/base.jpg\",\n    \"srcSet\": [\"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/73b64/base.jpg 300w\", \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/3ad8d/base.jpg 600w\", \"/static/4d1fb6f3c72fb4146a2220ffbc0a3e19/d6994/base.jpg 1199w\"],\n    \"sizes\": \"(max-width: 1199px) 100vw, 1199px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Original Starry Night\"), \"\\n  \"), \"\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/9c006f7fc91a665e66a499dfad4ddfe1/e05ce/cifar_night_small.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"79.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABnaZ0bzPMv//EABoQAAICAwAAAAAAAAAAAAAAAAERABICECL/2gAIAQEAAQUCXS1cjO5jBn//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFREBAQAAAAAAAAAAAAAAAAAAEBL/2gAIAQIBAT8Bo//EABoQAAICAwAAAAAAAAAAAAAAAAAQARESITL/2gAIAQEABj8CpcmULZ//xAAaEAEBAQADAQAAAAAAAAAAAAABEQAhMVFx/9oACAEBAAE/IYilZxNO7DUgIzeXHwyiivu//9oADAMBAAIAAwAAABCr3//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EFT/xAAXEQADAQAAAAAAAAAAAAAAAAAAARHw/9oACAECAQE/EEhFqf/EABoQAQADAQEBAAAAAAAAAAAAAAEAESExQfD/2gAIAQEAAT8QSyAdsLclD67aX9kARQz2iFoKlHGD06PaJdo3Urc//9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Cifar Night (Tile Size: 4)\",\n    \"title\": \"Cifar Night (Tile Size: 4)\",\n    \"src\": \"/static/9c006f7fc91a665e66a499dfad4ddfe1/6c738/cifar_night_small.jpg\",\n    \"srcSet\": [\"/static/9c006f7fc91a665e66a499dfad4ddfe1/73b64/cifar_night_small.jpg 300w\", \"/static/9c006f7fc91a665e66a499dfad4ddfe1/3ad8d/cifar_night_small.jpg 600w\", \"/static/9c006f7fc91a665e66a499dfad4ddfe1/6c738/cifar_night_small.jpg 1200w\", \"/static/9c006f7fc91a665e66a499dfad4ddfe1/8b34c/cifar_night_small.jpg 1800w\", \"/static/9c006f7fc91a665e66a499dfad4ddfe1/111a0/cifar_night_small.jpg 2400w\", \"/static/9c006f7fc91a665e66a499dfad4ddfe1/e05ce/cifar_night_small.jpg 9568w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Cifar Night (Tile Size: 4)\"), \"\\n  \"), \"\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4af8c9c43508510855a5ae67d01ecf4e/89ab1/cifar_night.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"79.33333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAFWp2lWSA//xAAZEAACAwEAAAAAAAAAAAAAAAABEAIREiH/2gAIAQEAAQUCrtISOtFf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABcQAQADAAAAAAAAAAAAAAAAABAAETH/2gAIAQEABj8CMlv/xAAYEAADAQEAAAAAAAAAAAAAAAAAAREhMf/aAAgBAQABPyFca25hBClPMEFT16f/2gAMAwEAAgADAAAAEGjP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QBn//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QRaX/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFRcYH/2gAIAQEAAT8QEFQGHUPblINBp9qUgHQo0zhY7oItoU7V3P/Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Cifar Night (Tile Size: 8)\",\n    \"title\": \"Cifar Night (Tile Size: 8)\",\n    \"src\": \"/static/4af8c9c43508510855a5ae67d01ecf4e/6c738/cifar_night.jpg\",\n    \"srcSet\": [\"/static/4af8c9c43508510855a5ae67d01ecf4e/73b64/cifar_night.jpg 300w\", \"/static/4af8c9c43508510855a5ae67d01ecf4e/3ad8d/cifar_night.jpg 600w\", \"/static/4af8c9c43508510855a5ae67d01ecf4e/6c738/cifar_night.jpg 1200w\", \"/static/4af8c9c43508510855a5ae67d01ecf4e/8b34c/cifar_night.jpg 1800w\", \"/static/4af8c9c43508510855a5ae67d01ecf4e/111a0/cifar_night.jpg 2400w\", \"/static/4af8c9c43508510855a5ae67d01ecf4e/89ab1/cifar_night.jpg 4768w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Cifar Night (Tile Size: 8)\"), \"\\n  \"), \"\\n\", mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1200px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/274a9c49572cbbb786f646653bac6ba0/94265/cifar_night_coarse.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"79.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABTqdkWERl/8QAGBAAAwEBAAAAAAAAAAAAAAAAABESASH/2gAIAQEAAQUCXUIvbsbP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABcQAQADAAAAAAAAAAAAAAAAABAAETL/2gAIAQEABj8CMy3/xAAZEAADAQEBAAAAAAAAAAAAAAABESEAEPD/2gAIAQEAAT8hSWWpl4ACZM3hiBM07//aAAwDAQACAAMAAAAQRP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oACAEDAQE/EAbb/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEh/9oACAECAQE/ELDH/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBUf/aAAgBAQABPxAI3KKnmYWdc2kLAnHhDRjAUaYYUoXdCVRW2ruf/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Cifar Night (Tile Size: 12)\",\n    \"title\": \"Cifar Night (Tile Size: 12)\",\n    \"src\": \"/static/274a9c49572cbbb786f646653bac6ba0/6c738/cifar_night_coarse.jpg\",\n    \"srcSet\": [\"/static/274a9c49572cbbb786f646653bac6ba0/73b64/cifar_night_coarse.jpg 300w\", \"/static/274a9c49572cbbb786f646653bac6ba0/3ad8d/cifar_night_coarse.jpg 600w\", \"/static/274a9c49572cbbb786f646653bac6ba0/6c738/cifar_night_coarse.jpg 1200w\", \"/static/274a9c49572cbbb786f646653bac6ba0/8b34c/cifar_night_coarse.jpg 1800w\", \"/static/274a9c49572cbbb786f646653bac6ba0/111a0/cifar_night_coarse.jpg 2400w\", \"/static/274a9c49572cbbb786f646653bac6ba0/94265/cifar_night_coarse.jpg 3168w\"],\n    \"sizes\": \"(max-width: 1200px) 100vw, 1200px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Cifar Night (Tile Size: 12)\"), \"\\n  \")), mdx(\"p\", null, \"I really enjoy the art style that you get from different mosaics like this, and plan to try out other dataset and image combinations. If you have a request let me know and I may just run it!\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Image Mosaic","date":"April 8th, 2021","excerpt":"A quick overview of one of my weekend projects where I develop image mosaics from sets of images.","featureImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABTqdkWERl/8QAGBAAAwEBAAAAAAAAAAAAAAAAABESASH/2gAIAQEAAQUCXUIvbsbP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EABcQAQADAAAAAAAAAAAAAAAAABAAETL/2gAIAQEABj8CMy3/xAAZEAADAQEBAAAAAAAAAAAAAAABESEAEPD/2gAIAQEAAT8hSWWpl4ACZM3hiBM07//aAAwDAQACAAMAAAAQRP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oACAEDAQE/EAbb/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEh/9oACAECAQE/ELDH/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBUf/aAAgBAQABPxAI3KKnmYWdc2kLAnHhDRjAUaYYUoXdCVRW2ruf/9k="},"images":{"fallback":{"src":"/static/274a9c49572cbbb786f646653bac6ba0/c59b4/cifar_night_coarse.jpg","srcSet":"/static/274a9c49572cbbb786f646653bac6ba0/d33d5/cifar_night_coarse.jpg 200w,\n/static/274a9c49572cbbb786f646653bac6ba0/4346f/cifar_night_coarse.jpg 400w,\n/static/274a9c49572cbbb786f646653bac6ba0/c59b4/cifar_night_coarse.jpg 800w,\n/static/274a9c49572cbbb786f646653bac6ba0/91314/cifar_night_coarse.jpg 1600w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[]},"width":800,"height":638}}}},"fields":{"path":"/projects/image-mosaic/","readingTime":{"text":"7 min read"}},"tableOfContents":{"items":[{"url":"#introduction","title":"Introduction"},{"url":"#code","title":"Code","items":[{"url":"#importing-base-image","title":"Importing Base Image"},{"url":"#tiling","title":"Tiling"},{"url":"#resizing-image","title":"Resizing Image"},{"url":"#dataset-import","title":"Dataset Import"},{"url":"#comparison-and-replacing","title":"Comparison and Replacing"}]},{"url":"#other-examples","title":"Other Examples","items":[{"url":"#galaxy-starry-night","title":"Galaxy Starry Night"},{"url":"#cifar-starry-night","title":"Cifar Starry Night"}]}]}},"site":{"siteMetadata":{"title":"Patrick Youssef"}}},"pageContext":{"post_id":"/projects/image-mosaic/"}},"staticQueryHashes":[]}